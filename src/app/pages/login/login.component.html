<section class="login">

    <div class="wrapper">
        <img alt="logo"
             class="logo"
             src="../../../assets/login-icon.svg"
        >

        <div class="main">
            <h1>Добро пожаловать</h1>
            <span>Авторизуйтесь чтобы продолжить</span>
        </div>

        <form (ngSubmit)="submit()"
              [formGroup]="form"
        >
            <span>Логин*</span>
            <div class="input">
                <input [ngClass]="{
                            fail: errorSubmit,
                            success: user
                          }"
                       formControlName="login"
                       minlength="6"
                       placeholder="mail@simmmple.com"
                       type="email"
                >
                <span *ngIf="user || errorSubmit"
                      class="error_and_success_icon"
                >
                  <ng-container *ngIf="errorSubmit && !user; else success"
                  >
                    <svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
                      <path d="M18.3333 9.99978C18.3333 14.6031 14.6024 18.3331 9.99993 18.3331C5.39743 18.3331
                      1.6666 14.6031 1.6666 9.99978C1.6666 5.39811 5.39743 1.66644 9.99993 1.66644C14.6024 1.66644
                      18.3333 5.39811 18.3333 9.99978" stroke="#FC5A5A" stroke-width="2"/>
                      <path d="M10 11.9228C10.5799 11.9228 11.0526 11.4651 11.0526 10.9038V5.7559C11.0526 5.19453
                      10.5799 4.73682 10 4.73682C9.42015 4.73682 8.94737 5.19453 8.94737 5.7559V10.9038C8.94737
                      11.4651 9.42015 11.9228 10 11.9228Z" fill="#FC5A5A"/>
                      <path d="M10.0003 13.2101C9.42566 13.2101 8.95662 13.6712 8.95662 14.2367C8.95662 14.8022
                      9.43045 15.2632 10.0122 15.2632C10.5916 15.2632 11.0619 14.8022 11.0619 14.2367C11.0619 13.6712
                       10.5916 13.2101 10.0003 13.2101Z" fill="#FC5A5A"/>
                    </svg>
                   </ng-container>
                  <ng-template #success>
                     <svg class="check_icon"
                          focusable="false"
                          viewBox="0 0 14 14">
                     <g fill="#249F5D">
                       <polygon points="5.5 11.9993304
                       14 3.49933039 12.5 2 5.5 8.99933039
                       1.5 4.9968652 0 6.49933039">
                       </polygon>
                     </g>
                   </svg>
                  </ng-template>
                </span>
            </div>
            <span class="error_message">
                    {{login.touched && login.errors?.['minlength'] ? "Неккоректный email" : ""}}
            </span>

            <span>Пороль*</span>
            <div class="input">
                <input [ngClass]="{
                          fail: errorSubmit,
                          success: user
                          }"
                       [type]="remove ? 'text' : 'password'"
                       class="password"
                       formControlName="password"
                       minlength="6"
                       placeholder="Минимум 6 символов"
                >
                <button (click)="togglePassword()"
                        class="remove"
                        type="button"
                >
                    <ng-container *ngIf="remove; else showPasswordIcon">
                        <svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_2_738)">
                                <path d="M9.99999 5.41667C13.1583 5.41667 15.975 7.19167 17.35 10C15.975 12.8083 13.1667
                                    14.5833 9.99999 14.5833C6.83333 14.5833 4.02499 12.8083 2.64999 10C4.02499 7.19167 6.84166
                                    5.41667 9.99999 5.41667ZM9.99999 3.75C5.83333 3.75 2.27499 6.34167 0.833328 10C2.27499 13.6583
                                    5.83333 16.25 9.99999 16.25C14.1667 16.25 17.725 13.6583 19.1667 10C17.725 6.34167 14.1667 3.75
                                     9.99999 3.75ZM9.99999 7.91667C11.15 7.91667 12.0833 8.85 12.0833 10C12.0833 11.15 11.15 12.0833
                                      9.99999 12.0833C8.84999 12.0833 7.91666 11.15 7.91666 10C7.91666 8.85 8.84999 7.91667 9.99999
                                       7.91667ZM9.99999 6.25C7.93333 6.25 6.24999 7.93333 6.24999 10C6.24999 12.0667 7.93333 13.75
                                        9.99999 13.75C12.0667 13.75 13.75 12.0667 13.75 10C13.75 7.93333 12.0667 6.25 9.99999 6.25Z"
                                      fill="#4C54F4"
                                />
                            </g>
                            <defs>
                                <clipPath id="clip0_2_738">
                                    <rect fill="white" height="20" width="20"/>
                                </clipPath>
                            </defs>
                        </svg>
                    </ng-container>
                    <ng-template #showPasswordIcon>
                        <svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3.33335 9.70415L1.66669 11.6666M18.3334 11.6666L16.67 9.70665M7.42835 11.4L6.66669
                                   13.75M12.5525 11.4066L13.3334 13.75M1.66669 8.33331C1.66669 8.33331 4.58335 11.6666 10
                                    11.6666C15.4167 11.6666 18.3334 8.33331 18.3334 8.33331H1.66669Z" stroke="#4C54F4"
                                  stroke-linecap="round"
                                  stroke-linejoin="round" stroke-width="2"
                            />
                        </svg>
                    </ng-template>
                </button>
            </div>
            <span class="error_message">
                    {{password.touched && password.errors?.['minlength'] ? "Введите минимум 6 символов" : ""}}
            </span>

            <div class="details">
                <div class="check">
                    <input (click)="toggleCheck()"
                           class="styled-checkbox"
                           formControlName="savePassword"
                           type="checkbox"
                    >
                    <span>Запомнить</span>
                    <svg *ngIf="removeCheck"
                         class="check_icon"
                         focusable="false"
                         viewBox="0 0 14 14"
                    >
                        <g fill="#fff">
                            <polygon points="5.5 11.9993304
                                     14 3.49933039 12.5 2 5.5 8.99933039
                                     1.5 4.9968652 0 6.49933039"
                            >
                            </polygon>
                        </g>
                    </svg>
                </div>
                <a href="#">Забыли пароль?</a>
            </div>
            <button class="submit"
                    type="submit"
            >
                Войти
            </button>
        </form>
    </div>

    <div [ngClass]="{
          show: true
          }"
         class="wrapper_alert"
    >
        <app-alert (closeAlert)="alert.visible = false"
                   *ngFor="let alert of alerts"
                   [text]="alert.text"
                   [type]="alert.type"
                   [visible]="alert.visible"
                   class="alert"
        ></app-alert>
    </div>

</section>
